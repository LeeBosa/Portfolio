gsap.registerPlugin(ScrollTrigger);const parameters={count:5e3,size:.01,radius:30,branches:3,spin:1,randomness:.2,randomnessPower:3,insideColor:"#CCD1FE",outsideColor:"#9FAAE5"};var scene=new THREE.Scene;const generateGalaxy=()=>{const e=new THREE.BufferGeometry,r=new Float32Array(3*parameters.count),o=new Float32Array(3*parameters.count),n=new THREE.Color(parameters.insideColor),i=new THREE.Color(parameters.outsideColor);for(let e=0;e<parameters.count;e++){const t=3*e,a=Math.random()*parameters.radius,c=a*parameters.spin,s=e%parameters.branches/parameters.branches*Math.PI*2,d=Math.pow(Math.random(),parameters.randomnessPower)*(Math.random()<.5?1:-1)*parameters.randomness*a,l=Math.pow(Math.random(),parameters.randomnessPower)*(Math.random()<.5?1:-1)*parameters.randomness*a,h=Math.pow(Math.random(),parameters.randomnessPower)*(Math.random()<.5?1:-1)*parameters.randomness*a;r[t]=Math.cos(s+c)*a+d,r[t+1]=l,r[t+2]=Math.sin(s+c)*a+h;const p=n.clone();p.lerp(i,a/parameters.radius),o[t]=p.r,o[t+1]=p.g,o[t+2]=p.b}e.setAttribute("position",new THREE.BufferAttribute(r,3)),e.setAttribute("color",new THREE.BufferAttribute(o,3));const t=new THREE.PointsMaterial({size:parameters.size,sizeAttenuation:!0,depthWrite:!1,blending:THREE.AdditiveBlending,vertexColors:!0}),a=new THREE.Points(e,t);scene.add(a)};generateGalaxy();const sizes={width:window.innerWidth,height:window.innerHeight};window.addEventListener("resize",(()=>{sizes.width=window.innerWidth,sizes.height=window.innerHeight,camera.aspect=sizes.width/sizes.height,camera.updateProjectionMatrix(),renderer.setSize(sizes.width,sizes.height),renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),"PC"==deviceCheck()?(ScrollTrigger.config({autoRefreshEvents:"visibilitychange, DOMContentLoaded, load, resize"}),ScrollTrigger.refresh()):ScrollTrigger.config({autoRefreshEvents:"visibilitychange, DOMContentLoaded, load"})}));var camera=new THREE.PerspectiveCamera(50,sizes.width/sizes.height,.1,100),canvas=document.getElementById("canvas"),controls=new THREE.OrbitControls(camera,canvas);controls.autoRotate=!0,controls.autoRotateSpeed=.5,controls.enabled=!1;var check,renderer=new THREE.WebGLRenderer({canvas:canvas,antialias:!0,alpha:!0});renderer.setSize(sizes.width,sizes.height),renderer.setPixelRatio(Math.min(window.devicePixelRatio,2));var render=()=>{1==check&&(controls.update(),renderer.render(scene,camera),renderer.setSize(sizes.width,sizes.height),renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),window.requestAnimationFrame(render))};render();var locoScroll=new LocomotiveScroll({el:document.querySelector("[data-scroll-container]"),smooth:!0,tablet:{breakpoint:0,smooth:!1},mobile:{breakpoint:0,smooth:!1}});function locoInit(){"PC"==deviceCheck()?(ScrollTrigger.addEventListener("refresh",(()=>locoScroll.update())),ScrollTrigger.refresh(),ScrollTrigger.defaults({scroller:"[data-scroll-container]"})):(locoScroll.destroy(),ScrollTrigger.defaults({scroller:""}))}locoScroll.on("scroll",ScrollTrigger.update),ScrollTrigger.scrollerProxy("[data-scroll-container]",{scrollTop(e){return arguments.length?locoScroll.scrollTo(e,0,0):locoScroll.scroll.instance.scroll.y},getBoundingClientRect:()=>({top:0,left:0,width:window.innerWidth,height:window.innerHeight}),pinType:document.querySelector("[data-scroll-container]").style.transform?"transform":"fixed"}),locoInit(),window.addEventListener("load",(()=>{blockRefresh()})),blockRefresh();var master1=gsap.timeline({scrollTrigger:{trigger:".index_intro",pin:!0,scrub:0,start:"top top",end:"+=150%",onEnter:function(){check=!1,window.innerWidth>1080&&($("input[id=index_nav_1]").prop("checked",!0),indexNavCheck())},onEnterBack:function(){check=!1,window.innerWidth>1080&&($("input[id=index_nav_1]").prop("checked",!0),indexNavCheck())}}});master1.add(t1()).add(t2(),"<").add(t3(),"<");var master2=gsap.timeline({scrollTrigger:{trigger:".index_insight",pin:!0,scrub:0,start:"top top",end:"+=500%",onEnter:function(){check=!0,render(),window.innerWidth>1080&&($("input[id=index_nav_2]").prop("checked",!0),indexNavCheck(),$(".scroll_animation").show())},onEnterBack:function(){check=!0,render(),window.innerWidth>1080&&($("input[id=index_nav_2]").prop("checked",!0),indexNavCheck(),$(".scroll_animation").show())},onLeave:function(){check=!1},onLeaveBack:function(){check=!1}}});master2.add(t4()).add(t5(),"<").add(t6(),"<");var master3=gsap.timeline({scrollTrigger:{trigger:".index_project",scrub:0,start:"top bottom",onEnter:function(){check=!1,"PC"==deviceCheck()&&($("input[id=index_nav_3]").prop("checked",!0),indexNavCheck(),ScrollTrigger.refresh(),$(".scroll_animation").hide())},onEnterBack:function(){check=!1,"PC"==deviceCheck()&&($("input[id=index_nav_3]").prop("checked",!0),indexNavCheck(),ScrollTrigger.refresh(),$(".scroll_animation").hide())}}});function deviceCheck(){return 0>"win16|win32|win64|mac|macintel".indexOf(navigator.platform.toLowerCase())?"Mobile":"PC"}function blockRefresh(){"PC"==deviceCheck()?(ScrollTrigger.config({autoRefreshEvents:"visibilitychange, DOMContentLoaded, load, resize"}),ScrollTrigger.refresh()):ScrollTrigger.config({autoRefreshEvents:"visibilitychange, DOMContentLoaded, load"})}function indexNavCheck(){$("input[name=index_nav]").next("label").find(".scene").removeClass("scene-hover"),$("input[name=index_nav]:checked").next("label").find(".scene").addClass("scene-hover")}function indexNavMove(){var e=document.getElementById("indexProject");$("input[id=index_nav_1]").is(":checked")?locoScroll.scrollTo(0):$("input[id=index_nav_2]").is(":checked")?locoScroll.scrollTo(3.5*window.innerHeight):$("input[id=index_nav_3]").is(":checked")&&locoScroll.scrollTo(e,{offset:.1*-window.innerHeight})}function t1(){var e=window.innerWidth,r=gsap.timeline();return e>1080||e<=1080&&e>720?r.fromTo(".index_intro_title span",{scale:2},{scale:1,duration:4}).fromTo({},{},{duration:4}).fromTo(".index_intro_title span",{opacity:1,scale:1},{opacity:0,scale:2,duration:4}):r.fromTo(".index_intro_title span",{scale:2},{scale:1.25,duration:4}).fromTo({},{},{duration:4}).fromTo(".index_intro_title span",{opacity:1,scale:1.25},{opacity:0,scale:2,duration:4}),r}function t2(){var e=gsap.timeline();return e.fromTo(".index_intro_title p",{opacity:0,scale:1,y:20},{opacity:1,scale:1,y:0,duration:4}).fromTo({},{},{duration:4}).fromTo(".index_intro_title p",{opacity:1,y:0},{opacity:0,y:20,duration:4}),e}function t3(){var e=gsap.timeline();return e.fromTo(".banner_wrap",{opacity:1},{opacity:.5,duration:4}).fromTo({},{},{duration:8}),e}function t4(){var e=gsap.timeline();return e.fromTo(camera.position,{x:0,y:0,z:-8},{x:0,y:.2,z:8,duration:8}).fromTo({},{},{duration:4}).fromTo(camera.position,{x:0,y:.2,z:8},{x:-2,y:2.2,z:8,duration:6}).fromTo({},{},{duration:4}).fromTo(camera.position,{x:-2,y:2.2,z:8},{x:2,y:-2.2,z:8,duration:6}).fromTo({},{},{duration:4}).fromTo(camera.position,{x:2,y:-2.2,z:8},{x:0,y:.2,z:-8,duration:8}),e}function t5(){var e=gsap.timeline();return e.fromTo("#canvas",{opacity:0,scale:.5},{opacity:1,scale:1,duration:1}).fromTo({},{},{duration:37}).fromTo("#canvas",{opacity:1,scale:1},{opacity:0,scale:.5,duration:2}),e}function t6(){var e=gsap.timeline();return e.fromTo(".index_insight_txt_1",{opacity:0,scale:.5},{opacity:1,scale:1,duration:8}).fromTo({},{},{duration:4}).fromTo(".index_insight_txt_1",{opacity:1,scale:1},{opacity:0,scale:.5,duration:3}).fromTo(".index_insight_txt_2",{opacity:0,scale:.5},{opacity:1,scale:1,duration:3}).fromTo({},{},{duration:4}).fromTo(".index_insight_txt_2",{opacity:1,scale:1},{opacity:0,scale:.5,duration:3}).fromTo(".index_insight_txt_3",{opacity:0,scale:.5},{opacity:1,scale:1,duration:3}).fromTo({},{},{duration:4}).fromTo(".index_insight_txt_3",{opacity:1,scale:1},{opacity:0,scale:.5,duration:6}).fromTo({},{},{duration:2}),e}indexNavCheck(),$("input[name=index_nav]").on("click",(function(){indexNavMove(),indexNavCheck(),ScrollTrigger.refresh()}));